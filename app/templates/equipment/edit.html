{# app/templates/equipment/edit.html #}
{% extends "base.html" %}
{% block title %}{{ title if title else "Редактировать оборудование" }}{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row justify-content-center"> {# Центрируем форму #}
        <div class="col-lg-8 col-md-10"> {# Ограничиваем ширину #}
            <h1 class="mb-2 text-center">Редактировать: {{ equipment.name }}</h1>
            <p class="text-muted mb-4 text-center">Инвентарный номер: {{ equipment.inventory_number }}</p>
            <div class="card shadow-sm">
                <div class="card-body p-4">
                    {# enctype нужен, если разрешена смена изображения #}
                    <form method="POST" action="{{ url_for('equipment.update', equipment_id=equipment.id) }}" enctype="multipart/form-data" novalidate>
                        {# Включаем общую часть формы из _form.html #}
                        {# Передаем form (предзаполненный в view-функции equipment.edit),
                           а также equipment и current_image_url для отображения текущего изображения в _form.html #}
                        {% include "equipment/_form.html" with context %}
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}